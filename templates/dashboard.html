<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cearum</title>
    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='theme.css') }}">
    <link rel="stylesheet" href="/static/theme.css">
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.8/dist/htmx.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <div class="box-theme p-3">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="semibold text-[20px]">Cerarum</h1>
            </div>
            <div class="flex gap-3 text-[13px] text-neutral-400">
                <a href="{{ url_for('index') }}" class="text-white font-semibold bg-blue-600 rounded p-1 shadow-[0_0_15px_rgba(37,99,235,0.2)]">Dashboard</a>
                <a href="{{ url_for('configuration') }}" class="p-1 hover:text-white font-semibold hover:bg-blue-600 rounded hover:shadow-[0_0_15px_rgba(37,99,235,0.2)] transition">Configuration</a>
            </div>
        </div>
    </div>

    <!-- Widgets -->
    <div class="grid grid-cols-3 gap-4 m-5">
        <div class="box-theme rounded p-2 w-full">
            <div class="flex items-center">
                <i class="bi bi-chat-fill bg-blue-600 rounded p-1 px-2 shadow-[0_0_15px_rgba(37,99,235,0.2)]"></i>
                <h1 class="text-[13px] font-medium text-neutral-400 m-2">Deleted Messages</h1>
            </div>
            <h1 class="mt-3 text-[25px] font-semibold" id="lgr-message-count" hx-get="/update_total_deleted_messages" hx-trigger="load, every 5s" hx-swap="innerHTML">N/A</h1>
        </div>
        <div class="box-theme rounded p-2 w-full">
            <div class="flex items-center">
                <i class="bi bi-sd-card-fill bg-blue-600 rounded p-1 px-2 shadow-[0_0_15px_rgba(37,99,235,0.2)]"></i>
                <h2 class="text-[13px] font-medium text-neutral-400 m-2">Size (mB)</h2>
            </div>
            <h1 class="mt-3 text-[25px] font-semibold" id="lgr-db-size" hx-get="/update_database_size" hx-trigger="load, every 30m" hx-swap="innerHTML">N/A</h1>
        </div>
        <div class="box-theme rounded p-2 w-full">
            <div class="flex items-center">
                <i class="bi bi-alarm-fill bg-blue-600 rounded p-1 px-2 shadow-[0_0_15px_rgba(37,99,235,0.2)]"></i>
                <h2 class="text-[13px] font-medium text-neutral-400 m-2">Runtime</h2>
            </div>
            <h1 class="mt-3 text-[25px] font-semibold" id="lgr-runtime" hx-get="/update_runtime" hx-trigger="load, every 1m" hx-swap="innerHTML">N/A</h1>
        </div>  
    </div>

    <!-- Display logged messages -->
    <div class="box-theme m-5 rounded p-2">
        <h1 class="text-[13px] font-medium text-neutral-400 mt-2 ml-2">Logged Messages</h1>
        <h1 class="text-[13px] font-semibold mx-2">Here are all messages that have been logged alongside the relevant details.</h1>
        <hr class="border-neutral-700 m-2">
        <div id="all-deleted-messages" hx-get="/load_all_deleted_messages" hx-trigger="load, every 10s" hx-swap="innerHTML">
            Loading last 5 deleted messages...
        </div>
    </div>
</body>
</html>